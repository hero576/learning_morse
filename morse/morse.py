class Morse:
    code_dict = {
        # alphabet
        ".-": "A", "-...": "B", "-.-.": "C", "-..": "D", ".": "E", "..-.": "F", "--.": "G",
        "....": "H", "..": "I", ".---": "J", "-.-": "K", ".-..": "L", "--": "M", "-.": "N",
        "---": "O", ".--ï¼Ž": "P", "--.-": "Q", ".-.": "R", "...": "S", "-": "T",
        "..-": "U", "...-": "V", ".--": "W", "-..-": "X", "-.--": "Y", "--..": "Z",

        # number
        "-----": "0", ".----": "1", "..---": "2", "...--": "3", "....-": "4",
        ".....": "5", "-....": "6", "--...": "7", "---..": "8", "----.": "9",

        # punctuation
        ".-.-.-": ".", "---...": ":", "--..--": ",", "-.-.-.": ";", "..--..": "?",
        "-...-": "=", ".----.": "'", "-..-.": "/", "-.-.--": "!", "-....-": "-",
        "..--.-": "_", ".-..-.": '"', "-.--.": "(", "-.--.-": ")", "...-..-": "$",
        ".-...": "&", ".--.-.": "@", ".-.-.": "+", "-.----.": "^", "------.": "~",
        "-. - -.--": "[", "-.---.-": "]",
    }
    char_dict = {val:key for key,val in code_dict.items()}

    def decode(self,str,sep=" "):
        str_list = str.split(sep)
        res = ""
        for s in str_list:
            res += self.code_dict.get(s,s.replace(".","0").replace("-","1"))
        return res

    def encode(self,str):
        res = ""
        for s in str:
            if not s.strip():
                continue
            res += self.char_dict.get(s,"?") + " "
        return res


if __name__ == '__main__':
    m = Morse()
    print(m.encode("SOS"))
    print(m.decode("... --- ..."))
